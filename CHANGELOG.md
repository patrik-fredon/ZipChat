# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## [Unreleased]

### Added

- Initial project setup
- Basic project structure
- Documentation structure
- User model implementation
- Key model implementation
- Database layer documentation
- Security documentation
- Monitoring documentation
- Infrastructure documentation
- Backend documentation
- Frontend documentation
- Architecture documentation
- CHANGELOG.md for tracking changes
- Updated backend documentation with latest structure
- Encryption service implementation with:
  - Message encryption using AES-256-GCM
  - Message decryption with authentication
  - Key rotation functionality
  - Input validation using Zod
- Message controller implementation with:
  - Message encryption endpoint
  - Message decryption endpoint
  - Key rotation endpoint
  - New message endpoints:
    - Send message with attachments
    - Typing indicator
    - Message drafts
- Message routes implementation with:
  - Authentication middleware
  - RESTful endpoints for message operations
  - File upload middleware
- Message model implementation with:
  - Secure message storage
  - Message expiration
  - Read status tracking
  - Pagination support
  - Message retrieval methods
  - Mongoose schema with proper indexing
  - Message status tracking (sent, delivered, read)
  - Efficient conversation queries
  - Attachment support
  - Draft storage
- Message service implementation with:
  - Secure message sending
  - Message retrieval with decryption
  - Read status management
  - Real-time notifications
  - User verification
  - Attachment handling
  - Draft management
- WebSocketService implementation with:
  - Secure WebSocket connections
  - JWT authentication
  - Real-time message delivery
  - Message status updates
  - User online status
  - Connection health monitoring
  - Automatic reconnection
  - Typing indicator notifications
  - Client connection management
  - Ping/pong health checks
  - Error handling
  - Secure logging
  - Broadcast functionality
  - User connection status tracking
- Frontend message components:
  - MessageList component for displaying messages
  - MessageItem component for individual messages
  - MessageComposer component for sending messages
  - Czech localization for dates and messages
  - Real-time message updates
  - Message expiration handling
  - Read status tracking
  - Chat window component with:
    - Real-time message delivery
    - Message status indicators
    - User online status
    - Infinite scroll for message history
    - Error handling and loading states
  - Message grouping by time and sender
  - Message status indicators (sent, delivered, read)
  - Responsive design with Tailwind CSS
  - Accessibility improvements
  - MessageList component with:
    - Message grouping by time and sender
    - Infinite scroll for message history
    - Automatic message read detection
    - Loading state handling
    - Czech date localization
  - MessageItem component with:
    - Message status indicators (sent, delivered, read)
    - Timestamp display in Czech format
    - Different styling for own/other messages
    - Responsive design with Tailwind CSS
  - MessageComposer component with:
    - Auto-resizing textarea
    - Typing indicators
    - Message validation
    - Keyboard shortcuts
    - Emoji support
    - File attachment preview
    - Message draft saving
    - Accessibility improvements
  - EmojiPicker component with:
    - Emoji search
    - Grid layout
    - Keyboard navigation
    - Accessibility improvements
  - FilePreview component with:
    - File type icons
    - File size formatting
    - Remove functionality
    - Responsive design
  - Custom hooks:
    - useLocalStorage for draft saving
    - useTypingIndicator for typing status
  - Utils:
    - Emoji list for picker
    - File type icons
    - File size formatting
- Database integration:
  - PostgreSQL connection setup
  - Message storage implementation
  - Key storage implementation
  - User storage implementation
  - MongoDB integration for messages
  - Efficient indexes for queries
  - Attachment storage
  - Draft storage
- Automated cleanup:
  - Cron job for expired messages
  - Hourly cleanup schedule
  - Logging of cleanup operations
  - Attachment cleanup
- Real-time communication:
  - WebSocket service implementation
  - Real-time message updates
  - Automatic reconnection
  - Message handler management
  - Ping/pong health checks
  - Client connection management
  - Typing indicator notifications
- Frontend chat components implementation:
  - ChatWindow component with:
    - Real-time message updates
    - User status indicators
    - Message history with infinite scroll
    - Error handling and loading states
    - Responsive design
  - MessageList component with:
    - Message grouping by time and sender
    - Efficient message rendering
    - Empty state handling
    - Scroll management
  - Message component with:
    - Status indicators (sent, delivered, read)
    - Timestamp display
    - Message bubble styling
    - Accessibility improvements
  - Czech localization for all UI elements
  - Tailwind CSS styling for consistent design
  - MessageComposer component with:
    - Auto-resizing textarea
    - Typing indicators
    - Message validation
    - Keyboard shortcuts
    - Emoji support
    - File attachment preview
    - Message draft saving
    - Accessibility improvements
  - Common components:
    - EmojiPicker for emoji selection
    - FilePreview for attachment preview
  - Custom hooks:
    - useLocalStorage for draft saving
    - useTypingIndicator for typing status
  - Utils:
    - Emoji list for picker
    - File type icons
    - File size formatting
- Backend services:
  - MessageService with:
    - Secure message sending
    - Message retrieval with decryption
    - Read status management
    - Real-time notifications
    - User verification
    - Attachment handling
    - Draft management
  - WebSocketService with:
    - Secure WebSocket connections
    - JWT authentication
    - Real-time message delivery
    - Message status updates
    - User online status
    - Connection health monitoring
    - Automatic reconnection
    - Typing indicator notifications
    - Client connection management
    - Ping/pong health checks
    - Error handling
    - Secure logging
    - Broadcast functionality
    - User connection status tracking
  - File upload middleware with:
    - Secure file storage
    - File type validation
    - File size limits
    - Unique filename generation
- Frontend testy pro komponenty:
  - MessageComposer testy:
    - Testování vykreslení komponenty
    - Testování odeslání zprávy
    - Testování příloh
    - Testování emoji
    - Testování indikátoru psaní
    - Testování konceptů
    - Testování chyb
  - MessageList testy:
    - Testování vykreslení zpráv
    - Testování stavu načítání
    - Testování prázdného stavu
    - Testování seskupování zpráv podle data
    - Testování načítání starších zpráv
    - Testování označení zprávy jako přečtené
    - Testování výběru zprávy
    - Testování mazání zprávy
    - Testování stavových indikátorů
    - Testování příloh
  - MessageItem testy:
    - Testování vykreslení obsahu
    - Testování časových razítek
    - Testování stavových indikátorů
    - Testování stylování
    - Testování přístupnosti
  - EmojiPicker testy:
    - Testování vykreslení emoji
    - Testování vyhledávání emoji
    - Testování výběru emoji
    - Testování prázdného vyhledávání
    - Testování tooltipů
  - FileUploader testy:
    - Testování vykreslení komponenty
    - Testování výběru souborů
    - Testování drag & drop
    - Testování validace typů souborů
    - Testování validace velikosti souborů
    - Testování chybových hlášek
- UserService implementation with:
  - User profile management
  - User data validation
  - Secure password storage
  - User role management
  - Two-factor authentication support
  - Email verification
  - User activity tracking
- UserRepository implementation with:
  - Database operations for users
  - Prepared statements for security
  - Efficient querying
  - Proper error handling
  - Data mapping
- User interface and model with:
  - Type-safe user data structure
  - Role-based access control
  - User profile fields
  - Security-related fields
  - Activity tracking fields
- AuthenticationService implementation with:
  - User registration with password hashing
  - Secure login with JWT tokens
  - Token verification
  - Password change functionality
  - Password reset functionality
  - Secure password storage
  - Role-based access control
  - Two-factor authentication support
  - Email verification
  - User activity tracking
  - Secure logging
  - Error handling
  - Input validation
- NotificationService implementation with:
  - Create notification functionality
  - Get notifications with pagination
  - Mark notifications as read
  - Delete notifications
  - Get unread count
  - Error handling and logging
- NotificationRepository implementation with:
  - Database operations for notifications
  - Efficient querying with pagination
  - Prepared statements for security
  - Proper error handling
  - Data mapping
  - Notification cleanup
- Notification interface and model with:
  - Type-safe notification structure
  - Multiple notification types
  - Read status tracking
  - Timestamp tracking
  - Custom data support
- Notification routes implementation with:
  - POST /notifications - Create notification
  - GET /notifications/:userId - Get notifications with pagination
  - PATCH /notifications/:id/read - Mark notification as read
  - DELETE /notifications/:id - Delete notification
  - GET /notifications/:userId/unread-count - Get unread count
  - Authentication middleware
  - RESTful API design
- Notification testy:
  - NotificationService testy:
    - Testování vytváření notifikací
    - Testování získávání notifikací
    - Testování označení jako přečtené
    - Testování mazání notifikací
    - Testování počtu nepřečtených
    - Testování čištění expirovaných
  - NotificationController testy:
    - Testování endpointů
    - Testování validace vstupů
    - Testování chybových stavů
    - Testování WebSocket notifikací
- Frontend notifikační komponenty:
  - NotificationManager komponenta pro správu notifikací
  - NotificationList komponenta pro zobrazení seznamu notifikací
  - NotificationItem komponenta pro zobrazení jednotlivé notifikace
  - NotificationPreferences komponenta pro správu nastavení notifikací
  - Podpora pro různé typy notifikací (message, friend_request, system, security)
  - Real-time aktualizace notifikací přes WebSocket
  - Nastavení tichých hodin
  - Podpora pro email, push a in-app notifikace
  - Česká lokalizace
  - Responzivní design s Tailwind CSS
  - Přístupnost (accessibility)
- Notification preferences system with:
  - User notification settings management
  - Email notification preferences
  - Push notification preferences
  - In-app notification preferences
  - Notification type preferences
  - Quiet hours functionality
  - Default preferences creation
  - Preference validation
- NotificationPreferenceService implementation with:
  - Get user preferences
  - Update preferences
  - Delete preferences
  - Create default preferences
  - Error handling and logging
- PushNotificationService implementation with:
  - Register push subscriptions
  - Unregister subscriptions
  - Send push notifications
  - Cleanup expired subscriptions
  - Error handling and logging
- Enhanced notification system with:
  - Better error handling
  - Improved logging
  - Type safety
  - Input validation
  - Security measures
  - RESTful API endpoints
  - Proper HTTP status codes
  - Detailed error messages
  - Authentication middleware
  - API documentation
- Notification preferences model with:
  - MongoDB schema
  - Index optimization
  - Timestamp tracking
  - Data validation
- Notification preferences service with:
  - Preference management
  - Default preferences creation
  - Preference validation
  - Quiet hours checking
  - Error handling
  - Logging
- Notification preferences controller with:
  - GET /preferences/:userId - Get preferences
  - PUT /preferences/:userId - Update preferences
  - DELETE /preferences/:userId - Delete preferences
  - POST /preferences/:userId/default - Create default preferences
  - Input validation using Zod
  - Error handling and logging
- Notification preferences routes with:
  - GET /preferences/:userId - Get preferences
  - PUT /preferences/:userId - Update preferences
  - DELETE /preferences/:userId - Delete preferences
  - POST /preferences/:userId/default - Create default preferences
  - Authentication middleware
  - RESTful API design
- Notification preferences tests with:
  - Preference retrieval tests
  - Default preference creation tests
  - Preference update tests
  - Notification allowance tests
  - Quiet hours tests
  - Error handling tests
- Enhanced notification service tests with:
  - Preference-based notification tests
  - Invalid data handling tests
  - WebSocket notification tests
  - Error handling tests
- Frontend notification preferences component with:
  - User interface for managing preferences
  - Real-time preference updates
  - Loading and error states
  - Responsive design
  - Accessibility improvements
  - Czech localization
- Frontend notification preferences tests with:
  - Component rendering tests
  - User interaction tests
  - Error handling tests
  - Loading state tests
  - Accessibility tests
- WebSocketService tests with:
  - Connection handling tests
  - Authentication tests
  - Message delivery tests
  - Broadcast tests
  - Connection status tests
  - Ping/pong tests
  - Error handling tests
  - Client management tests
- EmailService implementation with:
  - SMTP configuration
  - Email sending functionality
  - Notification emails
  - Verification emails
  - Password reset emails
  - HTML email templates
  - Error handling
  - Logging
- EmailService tests with:
  - SMTP configuration tests
  - Email sending tests
  - Notification email tests
  - Verification email tests
  - Password reset email tests
  - Error handling tests
- Push notification service with FCM integration:
  - Firebase Cloud Messaging integration
  - Push notification sending
  - Multicast notification support
  - Platform-specific notification settings
  - Notification preferences integration
  - Error handling and logging
- FCM token management:
  - Token storage model
  - Token validation
  - Token cleanup
  - Platform support (Android, iOS, Web)
  - Device identification
  - Token expiration handling
- FCM token controller with:
  - Token registration
  - Token removal
  - Token retrieval
  - Input validation
  - Error handling
  - Secure logging
- FCM token routes with:
  - Authentication middleware
  - RESTful endpoints
  - Input validation
  - Error handling
- Push notification tests with:
  - FCM integration tests
  - Token management tests
  - Notification sending tests
  - Error handling tests
  - Platform-specific tests
- Firebase Admin SDK integration
- VAPID authentication for web push notifications
- Enhanced notification security with proper key management
- Frontend push notification components:
  - PushNotificationSettings component for managing FCM tokens
  - Device registration functionality
  - Token management UI
  - Error handling and loading states
  - Responsive design with Tailwind CSS
  - Accessibility improvements
  - Czech localization
- Frontend push notification tests:
  - Component rendering tests
  - Token registration tests
  - Token removal tests
  - Error handling tests
  - Loading state tests
  - Accessibility tests
- Firebase client SDK integration
- Web push notification support
- Service worker registration
- Push notification permission handling
- Service worker implementation:
  - Firebase messaging integration
  - Background message handling
  - Notification click handling
  - URL navigation support
  - Icon and badge support
  - Data payload handling
- Enhanced push notification features:
  - Background message processing
  - Notification click actions
  - Custom notification icons
  - Deep linking support
  - Multiple window/tab handling
  - Service worker lifecycle management
- Push notification hook implementation:
  - usePushNotifications hook
  - Permission management
  - Token registration
  - Token unregistration
  - Error handling
  - Real-time message handling
  - Browser support detection
  - Firebase integration
- Enhanced push notification features:
  - Permission state management
  - Token state management
  - Error state management
  - Real-time message processing
  - Browser compatibility checks
  - Firebase configuration
  - VAPID key support
- Push notification hook tests:
  - Initial state tests
  - Browser support tests
  - Permission request tests
  - Token registration tests
  - Token unregistration tests
  - Error handling tests
  - Real-time message tests
- Enhanced test coverage:
  - Mock implementations
  - Browser API mocks
  - Firebase mocks
  - API mocks
  - Translation mocks
  - Error scenario tests
  - Success scenario tests
- Push notification display component:
  - PushNotification component
  - Permission status display
  - Token status display
  - Enable/disable controls
  - Error handling
  - Loading states
  - Responsive design
  - Accessibility improvements
  - Czech localization
- Enhanced notification UI:
  - Status indicators
  - Action buttons
  - Error messages
  - Permission requests
  - Loading states
  - Responsive layout
  - Accessibility features
  - Localized text
- Push notification component tests:
  - Component rendering tests
  - Permission request tests
  - Enable/disable tests
  - Error handling tests
  - State management tests
  - UI interaction tests
  - Accessibility tests
- Enhanced test coverage:
  - Mock implementations
  - Hook mocks
  - Translation mocks
  - Error scenario tests
  - Success scenario tests
  - UI state tests
  - Interaction tests
- Push notification context:
  - Context provider
  - Context hook
  - Type definitions
  - Error handling
  - State management
  - Permission management
  - Token management
- Enhanced context features:
  - Type safety
  - Error boundaries
  - State persistence
  - Permission handling
  - Token management
  - Real-time updates
  - Czech localization
- Push notification context for React applications
- Test coverage for push notification context
- Error handling and logging improvements
- Type safety enhancements
- Czech localization support
- Push notification context for React applications
- Push notification hook with support for:
  - Permission management
  - Token registration
  - Error handling
  - Browser compatibility checks
- Test coverage for push notification functionality
- Error handling improvements
- Type safety enhancements
- Czech localization support
- Push notification service implementation using Firebase Cloud Messaging
- FCM token management (save, remove, get tokens)
- Push notification preferences integration
- Tests for push notification service and FCM token controller
- Firebase Admin SDK integration
- Environment variables for Firebase configuration
- Frontend push notification hook tests
- Enhanced notification analytics:
  - Notification delivery tracking
  - User engagement metrics
  - Notification performance monitoring
  - Real-time analytics dashboard
  - Custom notification reports
  - Notification A/B testing support
- Advanced notification scheduling:
  - Time-based notification delivery
  - User timezone support
  - Smart notification timing
  - Batch notification processing
  - Notification priority levels
  - Rate limiting per user
- Notification templates:
  - Customizable notification layouts
  - Rich media support
  - Dynamic content variables
  - Template versioning
  - Template categories
  - Template preview functionality
- Notification preferences UI:
  - Granular notification settings
  - Category-based preferences
  - Channel-specific settings
  - Preference import/export
  - Bulk preference management
  - User preference history
- Notification testing tools:
  - Notification simulator
  - Test environment support
  - Notification preview
  - Delivery testing
  - Performance testing
  - Error scenario testing
- Notification analytics implementation:
  - Analytics model with MongoDB schema
  - Analytics service with tracking and metrics
  - Analytics controller with REST endpoints
  - Analytics routes with authentication
  - Comprehensive test coverage
  - Delivery tracking
  - Engagement tracking
  - Performance metrics
  - User analytics
  - Device information tracking
  - Analytics cleanup functionality
- Enhanced notification system:
  - Real-time analytics dashboard
  - User engagement metrics
  - Delivery performance tracking
  - Device-specific analytics
  - Notification success rates
  - User interaction patterns
  - Performance optimization
  - Data retention policies
  - Security enhancements
  - Error handling improvements
- Implemented notification analytics system with detailed metrics
- Added new components for displaying notification analytics:
  - `NotificationMetrics.tsx` for displaying key metrics and statistics
  - `NotificationAnalyticsTable.tsx` for detailed analytics data in table format
- Added support for tracking notification delivery and engagement metrics
- Implemented date range filtering for analytics data
- Added pagination support for analytics tables
- Added performance metrics tracking for notifications
- Enhanced notification system with analytics tracking
- Added real-time analytics dashboard
- Implemented device-specific analytics
- Added notification success rate tracking
- Enhanced user interaction pattern analysis
- Added performance optimization metrics
- Implemented data retention policies
- Added security enhancements for analytics data
- Improved error handling in analytics components
- Added Czech localization for analytics UI
- Implemented analytics data export functionality
- Added analytics data visualization components
- Enhanced notification delivery tracking
- Added engagement rate calculation
- Implemented platform-specific analytics
- Added notification template analytics
- Enhanced notification preference analytics
- Added notification testing analytics
- Implemented notification tracking system
- Added analytics data aggregation
- Enhanced metrics calculation
- Added reporting functionality
- Implemented data visualization
- Enhanced performance tracking
- Added security monitoring
- Implemented error tracking
- Added test coverage tracking
- Enhanced documentation
- Added data management tools
- Notification A/B testing implementation:
  - A/B test model with MongoDB schema
  - A/B test service with test management
  - A/B test controller with REST endpoints
  - A/B test routes with authentication
  - Comprehensive test coverage
  - Test variant management
  - Test metrics tracking
  - Test status management
  - Test cleanup functionality
- Enhanced A/B testing features:
  - Multiple variant support
  - Target percentage distribution
  - Test scheduling
  - Test status tracking
  - Test metrics calculation
  - Test cleanup
  - Security enhancements
  - Error handling improvements
- Added new components for A/B testing:
  - `NotificationABTestForm.tsx` for creating and editing tests
  - `NotificationABTestList.tsx` for displaying active tests
  - `NotificationABTestMetrics.tsx` for displaying test metrics
- Added support for test variant management
- Implemented test scheduling functionality
- Added test metrics calculation
- Enhanced test status management
- Added test cleanup functionality
- Improved error handling in A/B testing components
- Added Czech localization for A/B testing UI
- Implemented test data export functionality
- Added test data visualization components
- Enhanced test variant tracking
- Added test success rate calculation
- Implemented platform-specific test metrics
- Added test template support
- Enhanced test preference management
- Added test simulation tools
- Implemented test tracking system
- Added test data aggregation
- Enhanced test metrics calculation
- Added test reporting functionality
- Implemented test data visualization
- Enhanced test performance tracking
- Added test security monitoring
- Implemented test error tracking
- Added test coverage tracking
- Enhanced test documentation
- Added test data management tools
- Implementace A/B testování notifikací:
  - Frontend komponenty pro A/B testování:
    - `NotificationABTestForm.tsx` pro vytváření a úpravu testů
    - `NotificationABTestList.tsx` pro zobrazení aktivních testů
    - `NotificationABTestMetrics.tsx` pro zobrazení metrik testů
  - Vylepšené UI komponenty:
    - Formulář pro vytváření testů s validací pomocí Zod
    - Seznam testů s podrobnými metrikami
    - Grafické zobrazení metrik pomocí recharts
    - Česká lokalizace všech komponent
    - Responzivní design s Tailwind CSS
  - Vylepšené funkce:
    - Správa variant notifikací
    - Sledování metrik v reálném čase
    - Porovnání výkonu variant
    - Časové řady pro analýzu trendů
    - Export dat pro další analýzu
  - Bezpečnostní vylepšení:
    - Validace vstupů
    - Ošetření chybových stavů
    - Bezpečné ukládání dat
    - Ochrana proti XSS
  - Testování:
    - Kompletní testovací pokrytí komponent
    - Testy uživatelského rozhraní
    - Testy validace formulářů
    - Testy zobrazení metrik
- Implementace testů pro komponentu NotificationABTestMetrics:
  - Testy pro zobrazení celkových metrik
  - Testy pro zobrazení metrik variant
  - Testy pro porovnávací tabulku variant
  - Testy pro časové řady
  - Testy pro formátování dat
  - Testy pro prázdná data
  - Vylepšené testovací pokrytí
  - Lepší organizace testů
  - Vylepšená dokumentace testů
  - Konzistence v testovacích datech
- Implementace testovacího prostředí pro A/B testy:
  - NotificationABTestSimulator pro simulaci testovacího prostředí
  - Testovací nástroje pro vývojáře
  - Simulátor notifikací
  - Testovací rozhraní pro A/B testy
  - Automatizované testovací scénáře
  - Metriky pro testovací prostředí
  - Logování testovacích výsledků
  - Export testovacích dat
  - Testovací dashboard
  - Integrace s CI/CD
- Notification testing tools:
  - NotificationABTestSimulator for A/B test simulation
  - NotificationTester for comprehensive test suite
  - Performance testing capabilities
  - Error handling tests
  - Basic notification delivery tests
  - A/B test simulation with metrics tracking
- NotificationController implementation with:
  - Create notification endpoint
  - Get notifications endpoint with pagination
  - Mark notification as read endpoint
  - Delete notification endpoint
  - Get unread count endpoint
  - Input validation using Zod
  - Error handling and logging
- NotificationPreferenceController implementation with:
  - Get preferences endpoint
  - Update preferences endpoint
  - Delete preferences endpoint
  - Create default preferences endpoint
  - Input validation using Zod
  - Error handling and logging
- PushNotificationController implementation with:
  - Register subscription endpoint
  - Unregister subscription endpoint
  - Send notification endpoint
  - Cleanup expired subscriptions endpoint
  - Input validation using Zod
  - Error handling and logging
- Authentication middleware implementation with:
  - JWT token verification
  - Authorization header validation
  - Error handling
  - Logging
  - Security measures
  - Type safety
  - Detailed error messages
- Enhanced notification system with:
  - Better error handling
  - Improved logging
  - Type safety
  - Input validation
  - Security measures
  - RESTful API endpoints
  - Proper HTTP status codes
  - Detailed error messages
  - Authentication middleware
  - API documentation
  - Secure token handling
- Implementace loggeru s následujícími funkcemi:
  - Víceúrovňové logování (info, error)
  - Formátování logů s časovými značkami
  - Ukládání logů do souborů
  - Konzolový výstup v development prostředí
  - JSON formátování pro produkční prostředí
  - Barevné zvýraznění v konzoli
  - Oddělené soubory pro chyby a všeobecné logy
  - Podpora různých prostředí (development/production)
  - Strukturované logování
  - Snadná rozšiřitelnost

### Changed

- Refactored backend documentation to be more comprehensive
- Updated project structure documentation
- Improved code organization in backend
- Enhanced security measures in encryption service
- Improved error handling in controllers
- Optimized message storage structure
- Enhanced user experience with loading states
- Improved error handling in frontend components
- Migrated message storage to MongoDB for better scalability
- Enhanced WebSocket implementation with proper connection management
- Optimized database queries:
  - Added prepared statements
  - Improved query performance
  - Added proper indexing
  - Implemented efficient message retrieval
- Enhanced security:
  - Implemented proper password hashing
  - Added input validation
  - Improved error handling
  - Added WebSocket authentication
  - Added file upload validation
  - Enhanced attachment security
- Improved frontend components:
  - Added real-time updates
  - Enhanced error handling
  - Improved loading states
  - Added automatic reconnection
  - Added message delivery status
  - Enhanced message grouping
  - Improved accessibility
  - Optimized performance
- Enhanced frontend components:
  - Improved message composer UX:
    - Better textarea resizing
    - Smoother animations
    - Enhanced keyboard navigation
    - Improved mobile experience
  - Enhanced file handling:
    - Better file preview
    - Improved file type detection
    - Enhanced file size formatting
  - Improved emoji picker:
    - Better emoji organization
    - Enhanced search functionality
    - Improved accessibility
  - Enhanced typing indicators:
    - Better timing
    - Improved status updates
    - Enhanced real-time feedback
- Enhanced backend services:
  - Improved message handling
  - Enhanced WebSocket communication
  - Better error handling
  - Improved security measures
  - Enhanced file upload handling
  - Better draft management
  - Improved typing indicator handling
- Vylepšena testovatelnost frontend komponent
- Optimalizováno pokrytí testy
- Vylepšena dokumentace testů
- Zlepšena organizace testovacích souborů
- Přidána konzistence v testovacích datech
- Improved user management:
  - Enhanced user data validation
  - Better error handling
  - Improved security measures
  - Enhanced role management
  - Better database operations
  - Improved logging
- Enhanced authentication:
  - Improved password security
  - Better token management
  - Enhanced error handling
  - Improved logging
  - Better input validation
  - Enhanced role-based access control
  - Improved two-factor authentication
  - Better email verification
  - Enhanced user activity tracking
- Enhanced notification system:
  - Improved real-time delivery
  - Better notification grouping
  - Enhanced notification persistence
  - Improved notification cleanup
  - Better error handling
  - Enhanced security measures
  - Improved logging
  - Better WebSocket integration
  - Enhanced notification types
  - Improved notification management
- Improved notification system with:
  - Better user control over notifications
  - Enhanced notification filtering
  - Improved notification delivery
  - Better error handling
  - Enhanced logging
- Enhanced notification preferences with:
  - Better data validation
  - Improved error handling
  - Enhanced logging
  - Better performance
- Improved notification service with:
  - Better preference integration
  - Enhanced notification filtering
  - Improved error handling
  - Better logging
- Enhanced test coverage with:
  - More comprehensive test cases
  - Better test organization
  - Improved test data
  - Enhanced test documentation
- Improved frontend components with:
  - Better user experience
  - Enhanced error handling
  - Improved loading states
  - Better accessibility
  - Enhanced performance
- Enhanced backend routes with:
  - Better organization
  - Improved error handling
  - Enhanced security
  - Better documentation
- Enhanced notification system with push support
- Improved notification service with push capabilities
- Updated notification tests to include push notifications
- Enhanced notification security with proper key management
- Improved error handling in push notification service
- Enhanced logging for push notifications
- Updated environment configuration for Firebase
- Improved notification delivery with platform-specific settings
- Enhanced notification settings UI
- Improved error handling in frontend components
- Updated notification preferences integration
- Enhanced user experience with loading states
- Improved accessibility of notification components
- Updated Czech localization for push notifications
- Improved notification delivery:
  - Enhanced background message handling
  - Better notification presentation
  - Improved click behavior
  - Enhanced user experience
- Updated service worker configuration:
  - Firebase SDK integration
  - Environment variable support
  - Better error handling
  - Improved logging
- Improved push notification handling:
  - Better permission management
  - Enhanced token management
  - Improved error handling
  - Better real-time message processing
  - Enhanced browser support detection
  - Improved Firebase integration
- Updated notification flow:
  - Better permission request flow
  - Enhanced token registration flow
  - Improved error handling flow
  - Better real-time message flow
- Improved test structure:
  - Better test organization
  - Enhanced mock setup
  - Improved test isolation
  - Better error handling
  - Enhanced test coverage
- Updated test implementation:
  - Better async handling
  - Improved error scenarios
  - Enhanced success scenarios
  - Better mock implementations
  - Improved test readability
- Improved notification interface:
  - Better status display
  - Enhanced controls
  - Improved error handling
  - Better loading states
  - Enhanced responsiveness
  - Improved accessibility
  - Better localization
- Updated notification flow:
  - Better permission handling
  - Enhanced token management
  - Improved error display
  - Better loading states
  - Enhanced user feedback
- Improved test structure:
  - Better test organization
  - Enhanced mock setup
  - Improved test isolation
  - Better error handling
  - Enhanced test coverage
- Updated test implementation:
  - Better async handling
  - Improved error scenarios
  - Enhanced success scenarios
  - Better mock implementations
  - Improved test readability
- Improved context structure:
  - Better organization
  - Enhanced type safety
  - Improved error handling
  - Better state management
  - Enhanced permission handling
  - Improved token management
  - Better real-time updates
- Updated context implementation:
  - Better async handling
  - Improved error scenarios
  - Enhanced success scenarios
  - Better type definitions
  - Improved context provider
  - Enhanced context hook
  - Better error boundaries
- Improved context structure and organization
- Enhanced error messages and logging
- Optimized state management
- Better test coverage and organization
- Context structure for better state management
- Error messages for better user feedback
- State management for push notifications
- Test organization and coverage
- Updated notification system to support both WebSocket and push notifications
- Enhanced notification preferences to include push notification settings
- Improved error handling in notification services
- Updated documentation for push notification setup
- Enhanced notification delivery:
  - Improved delivery reliability
  - Better error recovery
  - Enhanced retry mechanism
  - Optimized batch processing
  - Improved rate limiting
  - Better resource management
- Improved notification analytics:
  - Enhanced data collection
  - Better performance tracking
  - Improved error reporting
  - Enhanced user engagement metrics
  - Better data visualization
  - Optimized data storage
- Enhanced notification templates:
  - Improved template management
  - Better variable handling
  - Enhanced validation
  - Improved preview functionality
  - Better version control
  - Enhanced template organization
- Improved notification preferences:
  - Enhanced preference management
  - Better validation
  - Improved error handling
  - Enhanced user experience
  - Better performance
  - Improved accessibility
- Enhanced notification testing:
  - Improved test coverage
  - Better test organization
  - Enhanced test data
  - Improved test performance
  - Better error handling
  - Enhanced test documentation
- Improved notification tracking:
  - Enhanced delivery status tracking
  - Better engagement monitoring
  - Improved performance metrics
  - Enhanced data collection
  - Better error handling
  - Improved logging
  - Enhanced security
  - Better data validation
  - Improved test coverage
  - Enhanced documentation
- Enhanced analytics features:
  - Improved data aggregation
  - Enhanced metrics calculation
  - Better reporting
  - Improved data visualization
  - Enhanced performance
  - Better security
  - Improved error handling
  - Enhanced test coverage
  - Better documentation
  - Improved data management
- Updated notification system to include analytics tracking
- Enhanced notification delivery system with performance monitoring
- Improved error handling in notification components
- Updated translations for analytics-related content
- Enhanced A/B testing features:
  - Improved test management
  - Better variant handling
  - Enhanced metrics calculation
  - Improved test scheduling
  - Better test status tracking
  - Enhanced test cleanup
  - Improved security
  - Better error handling
  - Improved performance
- Updated A/B testing UI:
  - Better test creation flow
  - Enhanced variant management
  - Improved metrics display
  - Better test status visualization
  - Enhanced test scheduling
  - Improved error handling
  - Better loading states
  - Enhanced accessibility
  - Improved Czech localization
- Improved A/B testing documentation:
  - Enhanced API documentation
  - Better test case documentation
  - Improved error handling documentation
  - Enhanced security documentation
  - Better performance documentation
  - Improved user guide
  - Enhanced developer guide
  - Better testing guide
  - Improved deployment guide
  - Enhanced maintenance guide
- Enhanced notification testing infrastructure
- Improved error handling in notification services
- Optimized performance testing methodology
- Vylepšení systému logování:
  - Lepší organizace logů
  - Víceúrovňové logování
  - Formátování logů
  - Ukládání logů
  - Konzolový výstup
  - JSON formátování
  - Barevné zvýraznění
  - Strukturované logování
  - Podpora prostředí
  - Rozšiřitelnost

### Deprecated

- N/A

### Removed

- PostgreSQL message storage in favor of MongoDB

### Fixed

- Fixed potential memory leaks in notification components
- Improved error handling in analytics data fetching
- Fixed date formatting issues in analytics display
- Fixed data aggregation issues
- Improved error reporting
- Fixed performance issues in analytics dashboard
- Enhanced data validation
- Improved error handling in analytics components
- Fixed security vulnerabilities in analytics system
- Enhanced data protection measures
- Fixed A/B testing metrics calculation
- Improved error handling in A/B testing components
- Fixed test scheduling issues
- Fixed variant distribution problems
- Improved test status tracking
- Fixed test cleanup functionality
- Enhanced test data validation
- Improved test error handling
- Fixed test security vulnerabilities
- Enhanced test data protection

### Security

- Implemented secure key rotation
- Added message authentication
- Enhanced input validation
- Added authentication middleware for message routes
- Added message expiration
- Implemented secure message storage
- Added client-side validation for message content
- Implemented secure message decryption flow
- Added password hashing with bcrypt
- Implemented secure key storage
- Added rate limiting for API endpoints
- Enhanced database security with prepared statements
- Added automated cleanup of sensitive data
- Added WebSocket authentication with JWT
- Implemented secure WebSocket communication
- Added connection health monitoring
- Implemented proper WebSocket connection cleanup
- Enhanced frontend security:
  - Added input sanitization
  - Improved error message handling
  - Enhanced WebSocket connection security
  - Added proper error boundaries
  - Implemented secure file upload handling
  - Added message content validation
  - Enhanced XSS protection
  - Added file type validation
  - Implemented secure file preview
  - Added emoji sanitization
  - Enhanced local storage security
  - Added typing indicator rate limiting
  - Added file size limits
  - Implemented secure file storage
  - Added file type restrictions
  - Enhanced attachment security
- Enhanced backend security:
  - Improved JWT validation
  - Enhanced WebSocket authentication
  - Better file upload security
  - Improved message encryption
  - Enhanced draft security
  - Better typing indicator security
- Přidána validace vstupů v testech
- Vylepšena bezpečnost testovacích dat
- Přidána izolace testovacích případů
- Vylepšena bezpečnost testovacích souborů
- Enhanced user security:
  - Added password validation
  - Implemented secure password storage
  - Added email validation
  - Enhanced role-based access control
  - Added two-factor authentication support
  - Improved user data validation
  - Enhanced database security
  - Added proper error handling
  - Implemented secure logging
- Enhanced authentication security:
  - Added secure password hashing
  - Implemented JWT token security
  - Added token expiration
  - Enhanced password reset security
  - Added rate limiting for authentication attempts
  - Implemented secure session management
  - Added input sanitization
  - Enhanced error handling
  - Improved logging
  - Added role-based access control
  - Implemented two-factor authentication
  - Added email verification
  - Enhanced user activity tracking
- Enhanced notification security:
  - Added notification validation
  - Implemented secure notification storage
  - Added notification expiration
  - Enhanced notification cleanup
  - Added rate limiting for notifications
  - Improved notification access control
  - Enhanced WebSocket security
  - Added input sanitization
  - Improved error handling
  - Enhanced logging
  - Added proper data validation
- Enhanced notification security with:
  - Better preference validation
  - Improved error handling
  - Enhanced logging
  - Better data protection
  - Improved access control
- Enhanced notification security with:
  - Better preference validation
  - Improved error handling
  - Enhanced logging
  - Better data protection
  - Improved access control
- Enhanced test security with:
  - Better test data isolation
  - Improved test data protection
  - Enhanced test environment security
  - Better test access control
- Enhanced notification security with:
  - Better preference validation
  - Improved error handling
  - Enhanced logging
  - Better data protection
  - Improved access control
- Enhanced test security with:
  - Better test data isolation
  - Improved test data protection
  - Enhanced test environment security
  - Better test access control
- Enhanced frontend security with:
  - Better input validation
  - Improved error handling
  - Enhanced data protection
  - Better access control
  - Improved XSS protection
- Enhanced backend security with:
  - Better input validation
  - Improved error handling
  - Enhanced logging
  - Better data protection
  - Improved access control
  - Enhanced authentication
  - Better session management
- Added secure push notification handling
- Implemented VAPID authentication for push notifications
- Enhanced notification security with proper key management
- Added secure token storage and validation
- Implemented secure token cleanup
- Enhanced error handling for push notifications
- Added rate limiting for push notification requests
- Improved logging for security events
- Added secure token handling in frontend
- Implemented proper error handling
- Enhanced user feedback for security events
- Added input validation for token operations
- Improved error messages for security issues
- Enhanced service worker security:
  - Secure Firebase initialization
  - Protected environment variables
  - Safe URL handling
  - Secure data processing
  - Improved error handling
- Enhanced push notification security:
  - Protected permission handling
  - Secure token management
  - Safe error display
  - Protected user feedback
  - Secure state management
- Enhanced test security:
  - Protected test data
  - Secure mock implementations
  - Safe error handling
  - Protected API calls
  - Secure Firebase mocks
- Enhanced context security:
  - Protected context data
  - Secure state management
  - Safe error handling
  - Protected API calls
  - Secure permission handling
  - Protected token management
  - Safe real-time updates
- Added input validation for context values
- Improved error handling and logging
- Enhanced type safety
- Input validation for push notification tokens
- Enhanced error handling
- Permission checks
- Secure token management
- Enhanced notification security:
  - Improved data validation
  - Enhanced access control
  - Better error handling
  - Improved logging
  - Enhanced data protection
  - Better rate limiting
- Improved notification analytics security:
  - Enhanced data protection
  - Better access control
  - Improved error handling
  - Enhanced logging
  - Better data validation
  - Improved security monitoring
- Enhanced notification template security:
  - Improved template validation
  - Enhanced access control
  - Better error handling
  - Improved logging
  - Enhanced data protection
  - Better security monitoring
- Improved notification preference security:
  - Enhanced preference validation
  - Better access control
  - Improved error handling
  - Enhanced logging
  - Better data protection
  - Improved security monitoring
- Enhanced notification testing security:
  - Improved test data protection
  - Enhanced access control
  - Better error handling
  - Improved logging
  - Enhanced data protection
  - Better security monitoring
- Enhanced analytics security:
  - Improved data validation
  - Enhanced access control
  - Better error handling
  - Improved logging
  - Enhanced data protection
  - Better rate limiting
  - Improved authentication
  - Enhanced authorization
  - Better data encryption
  - Improved security monitoring
- Enhanced A/B testing security:
  - Improved test data validation
  - Enhanced access control
  - Better error handling
  - Improved logging
  - Enhanced data protection
  - Better rate limiting
  - Improved authentication
  - Enhanced authorization
  - Better data encryption
  - Improved security monitoring
- Added input validation in notification services
- Enhanced error handling and logging
- Improved type safety
- Added security measures for push notifications
- Enhanced data protection in notification system
- Added input validation in notification controllers
- Enhanced error handling and logging
- Improved type safety
- Added security measures for push notifications
- Enhanced data protection in notification system
- Added proper HTTP status codes
- Improved error messages
- Enhanced API security
- Vylepšení bezpečnosti logování:
  - Oddělené soubory pro chyby
  - Strukturované logování
  - Bezpečné ukládání logů
  - Ochrana citlivých dat
  - Správné formátování
  - Bezpečné prostředí
  - Ochrana logů
  - Bezpečnost dat
  - Ochrana informací
  - Bezpečné ukládání
